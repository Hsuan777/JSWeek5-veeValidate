{"version":3,"sources":["login.js"],"names":["Vue","el","data","hexAPI","personID","apiPath","user","email","password","methods","login","e","vm","preventDefault","axios","post","then","res","token","expired","document","cookie","Date","window","location","error","console","log"],"mappings":";;AAAA,IAAIA,GAAJ,CAAQ;AACNC,EAAAA,EAAE,EAAE,MADE;AAENC,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE;AACNC,MAAAA,QAAQ,EAAE,sCADJ;AAENC,MAAAA,OAAO,EAAE,yCAFH;AAGNH,MAAAA,IAAI,EAAE;AAHA,KADJ;AAMJI,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,EADH;AAEJC,MAAAA,QAAQ,EAAE;AAFN;AANF,GAFA;AAaNC,EAAAA,OAAO,EAAC;AACNC,IAAAA,KADM,iBACAC,CADA,EACG;AACP,UAAIC,EAAE,GAAG,IAAT;AACAD,MAAAA,CAAC,CAACE,cAAF;AACAC,MAAAA,KAAK,CACFC,IADH,WACW,KAAKZ,MAAL,CAAYE,OADvB,iBAC4C,KAAKC,IADjD,EAEGU,IAFH,CAEQ,UAACC,GAAD,EAAS;AACb;AACA,YAAMC,KAAK,GAAGD,GAAG,CAACf,IAAJ,CAASgB,KAAvB;AACA,YAAMC,OAAO,GAAGF,GAAG,CAACf,IAAJ,CAASiB,OAAzB,CAHa,CAIb;AACA;AACA;AACA;;AACAC,QAAAA,QAAQ,CAACC,MAAT,sBAA8BH,KAA9B,uBAAgD,IAAII,IAAJ,CAASH,OAAO,GAAG,IAAnB,CAAhD,cARa,CASb;;AACAP,QAAAA,EAAE,CAACN,IAAH,CAAQC,KAAR;AACAK,QAAAA,EAAE,CAACN,IAAH,CAAQE,QAAR,MAXa,CAYb;;AACAe,QAAAA,MAAM,CAACC,QAAP,GAAkB,eAAlB;AAED,OAjBH,WAkBS,UAACC,KAAD,EAAW;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OApBH;AAqBD;AAzBK;AAbF,CAAR","sourcesContent":["new Vue({\r\n  el: \"#app\",\r\n  data: {\r\n    hexAPI: {\r\n      personID: \"85a8cd22-1b7d-43af-9b5a-5aa679129559\",\r\n      apiPath: \"https://course-ec-api.hexschool.io/api/\",\r\n      data: [],\r\n    },\r\n    user: {\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n  },\r\n  methods:{\r\n    login(e) {\r\n      let vm = this;\r\n      e.preventDefault();\r\n      axios\r\n        .post(`${this.hexAPI.apiPath}auth/login`, this.user)\r\n        .then((res) => {\r\n          // 1. 送出驗證資訊後，驗證完畢取得 token以及到期日(expired)\r\n          const token = res.data.token;\r\n          const expired = res.data.expired;\r\n          // 2. 取得上述的值後，就把它們存在 cookie，以便使用者在期限內再次登入\r\n          // 參考 document.cookie MDN\r\n          // someCookieName可自定義，true改成 傳送回來的 token\r\n          // 到期日則是用 new Data()的方式\r\n          document.cookie = `hexToken=${token}; expires=${new Date(expired * 1000)}; path=/`;\r\n          //清空\r\n          vm.user.email = ``;\r\n          vm.user.password = ``;\r\n          // 跳轉頁面\r\n          window.location = \"products.html\";\r\n\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        })\r\n    },\r\n  },\r\n});"],"file":"login.js"}